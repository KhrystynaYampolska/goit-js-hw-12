{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '32552782-0d4c86680018457e820f20492';\naxios.defaults.baseURL = 'https://pixabay.com/api/';\n\nexport const fetchImages = async query => {\n  const params = {\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  };\n\n  try {\n    const response = await axios.get('', { params });\n    return response.data;\n  } catch (error) {\n    throw new Error(error.response ? error.response.status : 'Unknown Error');\n  }\n};\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst createGalleryCardTemplate = imgInfo => {\n  return `<li class=\"gallery-card\">\n    <a href=\"${imgInfo.largeImageURL}\">\n      <img src=\"${imgInfo.webformatURL}\" alt=\"${imgInfo.tags}\" class=\"gallery-img\" />\n    </a>\n    <div class=\"gallery-info\">\n      <p><span class=\"label\">Likes</span> <span class=\"value\">${imgInfo.likes}</span></p>\n      <p><span class=\"label\">Views</span> <span class=\"value\">${imgInfo.views}</span></p>\n      <p><span class=\"label\">Comments</span> <span class=\"value\">${imgInfo.comments}</span></p>\n      <p><span class=\"label\">Downloads</span> <span class=\"value\">${imgInfo.downloads}</span></p>\n    </div>\n  </li>`;\n};\n\nexport const renderGallery = images => {\n  const gallery = document.querySelector('.js-gallery');\n  gallery.innerHTML = images.map(createGalleryCardTemplate).join('');\n\n  lightbox.refresh();\n};\n\nexport const showWarningToast = message => {\n  iziToast.warning({\n    title: 'Warning',\n    message:\n      'Sorry, there are no images matching your search query. Please try again!',\n    position: 'topRight',\n  });\n};\n\nexport const showErrorToast = message => {\n  iziToast.error({\n    title: 'Error',\n    message:\n      'Sorry, there are no images matching your search query. Please try again!',\n    position: 'topRight',\n  });\n};\n\nconst lightbox = new SimpleLightbox('.gallery-card a', {\n  captions: true,\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n});\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { fetchImages } from './js/pixabay-api';\nimport {\n  renderGallery,\n  showWarningToast,\n  showErrorToast,\n} from './js/render-functions';\n\nconst searchForm = document.querySelector('.js-search-form');\nconst gallery = document.querySelector('.js-gallery');\nconst loader = document.querySelector('.loader');\n\nconst onSearchFormSubmit = async event => {\n  event.preventDefault();\n\n  const inputValue = searchForm.elements.text.value.trim();\n\n  if (!inputValue) {\n    showWarningToast(\n      'Sorry, there are no images matching your search query. Please try again!'\n    );\n    return;\n  }\n\n  loader.classList.remove('hidden');\n\n  try {\n    const data = await fetchImages(inputValue);\n\n    if (data.hits.length === 0) {\n      showErrorToast(\n        'Sorry, there are no images matching your search query. Please try again!'\n      );\n      gallery.innerHTML = '';\n      return;\n    }\n\n    gallery.innerHTML = '';\n    renderGallery(data.hits);\n  } catch (err) {\n    showErrorToast(\n      'An error occurred while fetching the data. Please try again!'\n    );\n  } finally {\n    loader.classList.add('hidden');\n  }\n};\n\nsearchForm.addEventListener('submit', onSearchFormSubmit);\n"],"names":["API_KEY","axios","fetchImages","query","params","error","createGalleryCardTemplate","imgInfo","renderGallery","images","gallery","lightbox","showWarningToast","message","iziToast","showErrorToast","SimpleLightbox","searchForm","loader","onSearchFormSubmit","event","inputValue","data"],"mappings":"owBAEA,MAAMA,EAAU,qCAChBC,EAAM,SAAS,QAAU,2BAElB,MAAMC,EAAc,MAAMC,GAAS,CACxC,MAAMC,EAAS,CACb,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,EAEE,GAAI,CAEF,OADiB,MAAMF,EAAM,IAAI,GAAI,CAAE,OAAAG,CAAM,CAAE,GAC/B,IACjB,OAAQC,EAAO,CACd,MAAM,IAAI,MAAMA,EAAM,SAAWA,EAAM,SAAS,OAAS,eAAe,CACzE,CACH,ECfMC,EAA4BC,GACzB;AAAA,eACMA,EAAQ,aAAa;AAAA,kBAClBA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA;AAAA,gEAGIA,EAAQ,KAAK;AAAA,gEACbA,EAAQ,KAAK;AAAA,mEACVA,EAAQ,QAAQ;AAAA,oEACfA,EAAQ,SAAS;AAAA;AAAA,SAKxEC,EAAgBC,GAAU,CACrC,MAAMC,EAAU,SAAS,cAAc,aAAa,EACpDA,EAAQ,UAAYD,EAAO,IAAIH,CAAyB,EAAE,KAAK,EAAE,EAEjEK,EAAS,QAAO,CAClB,EAEaC,EAAmBC,GAAW,CACzCC,EAAS,QAAQ,CACf,MAAO,UACP,QACE,2EACF,SAAU,UACd,CAAG,CACH,EAEaC,EAAiBF,GAAW,CACvCC,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,SAAU,UACd,CAAG,CACH,EAEMH,EAAW,IAAIK,EAAe,kBAAmB,CACrD,SAAU,GACV,aAAc,MACd,gBAAiB,SACjB,aAAc,GAChB,CAAC,ECxCKC,EAAa,SAAS,cAAc,iBAAiB,EACrDP,EAAU,SAAS,cAAc,aAAa,EAC9CQ,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAqB,MAAMC,GAAS,CACxCA,EAAM,eAAc,EAEpB,MAAMC,EAAaJ,EAAW,SAAS,KAAK,MAAM,OAElD,GAAI,CAACI,EAAY,CACfT,EAEA,EACA,MACD,CAEDM,EAAO,UAAU,OAAO,QAAQ,EAEhC,GAAI,CACF,MAAMI,EAAO,MAAMpB,EAAYmB,CAAU,EAEzC,GAAIC,EAAK,KAAK,SAAW,EAAG,CAC1BP,EACE,0EACR,EACML,EAAQ,UAAY,GACpB,MACD,CAEDA,EAAQ,UAAY,GACpBF,EAAcc,EAAK,IAAI,CACxB,MAAa,CACZP,EAEA,CACJ,QAAY,CACRG,EAAO,UAAU,IAAI,QAAQ,CAC9B,CACH,EAEAD,EAAW,iBAAiB,SAAUE,CAAkB"}